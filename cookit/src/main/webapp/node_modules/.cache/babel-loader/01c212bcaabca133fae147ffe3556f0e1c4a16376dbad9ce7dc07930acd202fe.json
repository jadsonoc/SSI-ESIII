{"ast":null,"code":"import VueCookies from 'vue-cookies';\nimport axios from \"axios\";\nimport NavMenu from \"../components/NavMenu.vue\";\nimport LayoutDiv from \"../components/LayoutDiv.vue\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"FoodList\",\n  components: {\n    NavMenu,\n    LayoutDiv\n  },\n  data() {\n    return {\n      foods: [],\n      idLogged: false,\n      searchQuery: ''\n    };\n  },\n  created() {\n    this.fetchFoodsList();\n    if (VueCookies.isKey('userId')) {\n      this.isLogged = true;\n    }\n  },\n  methods: {\n    fetchFoodsList() {\n      axios.get(\"/foods\").then(response => {\n        this.foods = response.data;\n        this.foods.sort((a, b) => {\n          return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\n        });\n        return response;\n      }).catch(error => {\n        return error;\n      });\n    },\n    handleDelete(id) {\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, delete it!\"\n      }).then(result => {\n        if (result.isConfirmed) {\n          axios.delete(`/foods/${id}`).then(response => {\n            Swal.fire({\n              icon: \"success\",\n              title: \"Ingredient deleted successfully!\",\n              showConfirmButton: false,\n              timer: 1500\n            });\n            this.fetchFoodsList();\n            return response;\n          }).catch(error => {\n            Swal.fire({\n              icon: \"error\",\n              title: \"An Error Occured!\",\n              showConfirmButton: false,\n              timer: 1500\n            });\n            return error;\n          });\n        }\n      });\n    },\n    filterFoodList() {\n      if (this.searchQuery.length === 0) this.fetchFoodsList();\n      axios.get(`/foods/search/${this.searchQuery}`).then(response => {\n        this.foods = response.data;\n        this.foods.sort((a, b) => {\n          return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\n        });\n        return response;\n      }).catch(error => {\n        return error;\n      });\n    }\n  }\n};","map":{"version":3,"names":["VueCookies","axios","NavMenu","LayoutDiv","Swal","name","components","data","foods","idLogged","searchQuery","created","fetchFoodsList","isKey","isLogged","methods","get","then","response","sort","a","b","catch","error","handleDelete","id","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","delete","showConfirmButton","timer","filterFoodList","length"],"sources":["/Volumes/SDDisk2/workspace/IFRS/ES3/SSI-ESIII/cookit/src/main/webapp/src/views/FoodList.vue"],"sourcesContent":["<template>\n  <NavMenu />\n  <layout-div>\n    <div class=\"container\">\n      <h2 class=\"text-center mt-5 mb-3\">Food Manager</h2>\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <router-link v-if=\"isLogged\" to=\"/food/create\" class=\"btn btn-outline-primary\"\n            >Create New Food Ingredient\n          </router-link>\n        </div>\n        <div class=\"card-header\">\n          <input v-model=\"searchQuery\" type=\"text\" @keyup=\"filterFoodList\" class=\"form-control\" placeholder=\"Search for an Ingredient...\">\n        </div>\n        <div class=\"card-body\">\n          <table class=\"table table-bordered\">\n            <thead>\n              <tr class=\"text-center\">\n                <th>Name</th>\n                <th>Unity</th>\n                <th>Lactose Free</th>\n                <th>Gluten Free</th>\n                <th>Oilseed (Nut)</th>\n                <th width=\"240px\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"food in foods\" :key=\"food.id\">\n                <td>{{ food.name }}</td>\n                <td>{{ food.foodUnit }}</td>\n                <td v-if=\"food.lactoseFree\" class=\"text-center\">\n                  <i class=\"fa fa-check-circle fa-2x\" aria-hidden=\"true\" />\n                </td>\n                <td v-else class=\"text-center\">\n                  <i class=\"fa fa-times fa-2x\" aria-hidden=\"true\" />\n                </td>\n                <td v-if=\"food.glutenFree\" class=\"text-center\">\n                  <i class=\"fa fa-check-circle fa-2x\" aria-hidden=\"true\" />\n                </td>\n                <td v-else class=\"text-center\">\n                  <i class=\"fa fa-times fa-2x\" aria-hidden=\"true\" />\n                </td>\n                <td v-if=\"food.oilseedFree\" class=\"text-center\">\n                  <i class=\"fa fa-times fa-2x\" aria-hidden=\"true\" />\n                </td>\n                <td v-else class=\"text-center\">\n                  <i class=\"fa fa-check-circle fa-2x\" aria-hidden=\"true\" />\n                </td>\n                <td>\n                  <router-link v-if=\"isLogged\"\n                    :to=\"`/food/edit/${food.id}`\"\n                    class=\"btn btn-outline-success mx-1\"\n                    >Edit</router-link\n                  >\n                  <button v-if=\"isLogged\"\n                    @click=\"handleDelete(food.id)\"\n                    className=\"btn btn-outline-danger mx-1\"\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </layout-div>\n</template>\n\n<script>\nimport VueCookies from 'vue-cookies';\nimport axios from \"axios\";\nimport NavMenu from \"../components/NavMenu.vue\";\nimport LayoutDiv from \"../components/LayoutDiv.vue\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  name: \"FoodList\",\n  components: {\n    NavMenu,\n    LayoutDiv,\n  },\n  data() {\n    return {\n      foods: [],\n      idLogged: false,\n      searchQuery: '',\n    };\n  },\n  created() {\n    this.fetchFoodsList();\n    if (VueCookies.isKey('userId')) {\n      this.isLogged = true;\n    }\n  },\n  methods: {\n    fetchFoodsList() {\n      axios\n        .get(\"/foods\")\n        .then((response) => {\n          this.foods = response.data;\n          this.foods.sort((a, b) => {\n            return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\n          });\n          return response;\n        })\n        .catch((error) => {\n          return error;\n        });\n    },\n    handleDelete(id) {\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, delete it!\",\n      }).then((result) => {\n        if (result.isConfirmed) {\n          axios\n            .delete(`/foods/${id}`)\n            .then((response) => {\n              Swal.fire({\n                icon: \"success\",\n                title: \"Ingredient deleted successfully!\",\n                showConfirmButton: false,\n                timer: 1500,\n              });\n              this.fetchFoodsList();\n              return response;\n            })\n            .catch((error) => {\n              Swal.fire({\n                icon: \"error\",\n                title: \"An Error Occured!\",\n                showConfirmButton: false,\n                timer: 1500,\n              });\n              return error;\n            });\n        }\n      });\n    },\n    filterFoodList() {\n      if (this.searchQuery.length === 0)\n        this.fetchFoodsList();\n      axios\n        .get(`/foods/search/${this.searchQuery}`)\n        .then((response) => {\n          this.foods = response.data;\n          this.foods.sort((a, b) => {\n            return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\n          });\n          return response;\n        })\n        .catch((error) => {\n          return error;\n        });\n    },\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}